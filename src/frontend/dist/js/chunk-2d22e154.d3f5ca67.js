(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22e154"],{f9f1:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ServicesMonitor")},n=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-content",[r("v-row",[r("v-col",[e.ready?r("v-container",{attrs:{fluid:"","grid-list-md":""}},[r("v-layout",{attrs:{row:"",wrap:""}},e._l(e.stats,(function(t,a){return r("v-flex",{key:a,attrs:{md3:"",sm6:"",xs12:"",full:""}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(a){var n=a.hover;return[r("v-card",{class:{"on-hover":n},attrs:{dark:"",elevation:n?12:2,color:"primary"}},[r("v-container",{attrs:{fluid:"","grid-list-sm":"",dark:""}},[r("v-layout",{staticClass:"mt-0 mb-0 mx-0",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{sm3:"","hidden-xs-only":""}},[r("v-icon",{staticClass:"mx-0",attrs:{"x-large":"",dark:""}},[e._v(e._s(t.icon))])],1),r("v-flex",{attrs:{sm9:"",xs12:""}},[r("v-layout",{staticClass:"mt-0 mb-0 pa-0",attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{"d-flex":"",xs12:""}},[r("div",{staticClass:"silver--text subheading"},[e._v("\n                            "+e._s(t.title)+"\n                          ")])]),r("v-flex",{staticClass:"mx-4",attrs:{"d-flex":"",xs12:""}},[r("div",{staticClass:"silver--text display-1"},[e._v("\n                            "+e._s(t.data)+"\n                          ")]),e._v("\n                            \n                          "),t.action.label.length>0?r("v-btn",{staticClass:"darkgrey--text darken-1",attrs:{outlined:"",right:"",text:"",small:""},on:{click:function(r){return e.go(t.action.link)}}},[e._v("\n                            "+e._s(t.action.label)+"\n                          ")]):e._e()],1)],1)],1)],1)],1)],1)]}}],null,!0)})],1)})),1),r("v-layout",{attrs:{row:"",wrap:""}},[r("v-flex",{attrs:{md6:"",xs12:""}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.hover;return[r("v-card",{class:{"on-hover":a},attrs:{light:"",elevation:a?12:2}},[r("v-container",[r("v-card-title",[e._v("Services per status")]),r("bar",{attrs:{type:"services_by_status"}})],1)],1)]}}])})],1),r("v-flex",{attrs:{md6:"",xs12:""}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.hover;return[r("v-card",{class:{"on-hover":a},attrs:{light:"",elevation:a?12:2}},[r("v-container",[r("v-card-title",[e._v("Services per day of week")]),r("bar",{attrs:{type:"days_of_week"}})],1)],1)]}}])})],1),r("v-flex",{attrs:{md6:"",xs12:""}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.hover;return[r("v-card",{class:{"on-hover":a},attrs:{light:"",elevation:a?12:2}},[r("v-container",[r("v-card-title",[e._v("Services per month")]),r("bar",{attrs:{type:"months"}})],1)],1)]}}])})],1),r("v-flex",{attrs:{md6:"",xs12:""}},[r("v-hover",{scopedSlots:e._u([{key:"default",fn:function(t){var a=t.hover;return[r("v-card",{class:{"on-hover":a},attrs:{light:"",elevation:a?12:2}},[r("v-container",[r("v-card-title",[e._v("Services per year")]),r("bar",{attrs:{type:"years"}})],1)],1)]}}])})],1)],1)],1):r("Loading",{attrs:{message:"the user's services management info"}})],1)],1)],1)},o=[],u=(r("96cf"),r("3b8d")),c=r("1914"),i=(r("55dd"),r("6b54"),r("7514"),r("768b")),d=(r("ffc1"),r("ac6a"),r("1fca")),l=r("2ef0"),v=r.n(l),f={props:["type"],extends:d["a"],data:function(){return{status_info:[{value:-2,desc:"Refused",backgroundColor:"#63b179"},{value:-1,desc:"Canceled",backgroundColor:"#aed987"},{value:0,desc:"Generated",backgroundColor:"#ffff9d"},{value:1,desc:"Negotiating",backgroundColor:"#fcc267"},{value:2,desc:"Accepted",backgroundColor:"#ef8250"},{value:3,desc:"Waiting for evaluation",backgroundColor:"#00b300"},{value:4,desc:"Finalized",backgroundColor:"#00aba9"}],days_of_week_info:[{value:0,desc:"Sunday",backgroundColor:"#63b179"},{value:1,desc:"Monday",backgroundColor:"#aed987"},{value:2,desc:"Tuesday",backgroundColor:"#ffff9d"},{value:3,desc:"Wednesday",backgroundColor:"#fcc267"},{value:4,desc:"Thursday",backgroundColor:"#ef8250"},{value:5,desc:"Friday",backgroundColor:"#00b300"},{value:6,desc:"Saturday",backgroundColor:"#00aba9"}],months_info:[{value:1,desc:"January",backgroundColor:"#63b179"},{value:2,desc:"February",backgroundColor:"#aed987"},{value:3,desc:"March",backgroundColor:"#ffff9d"},{value:4,desc:"April",backgroundColor:"#fcc267"},{value:5,desc:"May",backgroundColor:"#ef8250"},{value:6,desc:"June",backgroundColor:"#00b300"},{value:7,desc:"July",backgroundColor:"#00aba9"},{value:8,desc:"August",backgroundColor:"#00e6b8"},{value:9,desc:"September",backgroundColor:"#4d4dff"},{value:10,desc:"October",backgroundColor:"#006666"},{value:11,desc:"November",backgroundColor:"#86592d"},{value:12,desc:"December",backgroundColor:"#cc0000"}],info:{labels:[],datasets:[{backgroundColor:[],data:[]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]},legend:{display:!1}}}},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.type&&this.serviceByStatus();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{days_of_week:function(e){try{var t=e.map((function(e){var t=new Date(e.date),r=t.getDay();return r}));return t}catch(r){return r}},months:function(e){try{var t=e.map((function(e){var t=new Date(e.date),r=t.getMonth();return r}));return t}catch(r){return r}},years:function(e){try{var t=e.map((function(e){var t=new Date(e.date),r=t.getUTCFullYear();return r}));return t}catch(r){return r}},serviceByStatus:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r,a,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$request("get","/users/"+this.$store.state.token+"/token");case 2:return t=e.sent,r=t.data._id,a="services_by_status"==this.type?"1":"7",e.next=7,this.$request("get","/services/monitoringByUser?idUser="+r+"&action="+a).then((function(e){if("services_by_status"!=n.type){var t="days_of_week"==n.type?n.days_of_week(e.data):"months"==n.type?n.months(e.data):n.years(e.data);t=v.a.countBy(t),Object.entries(t).forEach((function(e){var t=Object(i["a"])(e,2),r=t[0],a=t[1];"days_of_week"==n.type?(n.info.labels.push(n.days_of_week_info.find((function(e){return e.value==r})).desc),n.info.datasets[0].backgroundColor.push(n.days_of_week_info.find((function(e){return e.value==r})).backgroundColor)):"months"==n.type?(n.info.labels.push(n.months_info.find((function(e){return e.value==r})).desc),n.info.datasets[0].backgroundColor.push(n.months_info.find((function(e){return e.value==r})).backgroundColor)):(n.info.labels.push(r),n.info.datasets[0].backgroundColor.push("#"+Math.random().toString(16).substr(-6))),n.info.datasets[0].data.push(a)}))}else{var r=Object.assign([],e.data).sort((function(e,t){return e._id-t._id}));r.forEach((function(e){n.info.labels.push(n.status_info.find((function(t){return t.value===e._id})).desc),n.info.datasets[0].backgroundColor.push(n.status_info.find((function(t){return t.value===e._id})).backgroundColor),n.info.datasets[0].data.push(e.numberOfServices)}))}n.renderChart(n.info,n.options)})).catch((function(e){return e}));case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},h={data:function(){return{stats:[],ready:!1,userId:-1}},components:{Loading:c["a"],Bar:f},mounted:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getNumberOfServices();case 2:return e.next=4,this.getClientsBySP();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{getNumberOfServices:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$request("get","/users/"+this.$store.state.token+"/token");case 2:return t=e.sent,this.userId=t.data._id,e.next=6,this.$request("get","/services/monitoringByUser?idUser="+this.userId+"&action=2").then((function(e){r.stats.push({bgColor:"primary",icon:"design_services",title:"Services",data:e.data,action:{label:"",link:""}})})).catch((function(e){return alert(e)}));case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getClientsBySP:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$request("get","/services/monitoringByUser?idUser="+this.userId+"&action=6").then((function(e){t.stats.push({bgColor:"primary",icon:"person",title:"Clients",data:e.data,action:{label:"",link:""}}),t.ready=!0})).catch((function(e){return alert(e)}));case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},b=h,p=r("2877"),g=r("6544"),y=r.n(g),k=r("8336"),m=r("b0af"),_=r("99d9"),C=r("62ad"),x=r("a523"),w=r("a75b"),S=r("0e8f"),O=r("ce87"),R=r("132d"),V=r("a722"),j=r("0fd9"),B=Object(p["a"])(b,s,o,!1,null,null,null),$=B.exports;y()(B,{VBtn:k["a"],VCard:m["a"],VCardTitle:_["c"],VCol:C["a"],VContainer:x["a"],VContent:w["a"],VFlex:S["a"],VHover:O["a"],VIcon:R["a"],VLayout:V["a"],VRow:j["a"]});var M={components:{ServicesMonitor:$}},U=M,A=Object(p["a"])(U,a,n,!1,null,null,null);t["default"]=A.exports}}]);
//# sourceMappingURL=chunk-2d22e154.d3f5ca67.js.map